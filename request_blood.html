<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Blood</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='request_blood.css') }}">
</head>
<body>
    <h1>Request</h1>
    <form method="post" action="{{ url_for('request_blood') }}" novalidate>
        <label for="patient_name">Patient ID:</label>
        <input type="text" id="patient_name" name="patient_name" required pattern="[A-Za-z]+" title="Please enter only alphabets" maxlength="50"><br>

        <label for="required_blood_type">Required Blood Type:</label>
        <select id="required_blood_type" name="required_blood_type" required>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
        </select><br>

        <label for="volume">Volume in ml:</label>
        <input type="text" id="volume" name="volume" required pattern="[0-9]+" title="Please enter a valid positive number for volume" maxlength="3" max="500"><br>

        <button type="submit">Submit</button>
    </form>

    <h2>Requests</h2>

    <!-- Display existing blood requests in a table with border -->
    <table style="border-collapse: collapse; border: 1px solid black;">
        <thead>
            <tr>
                <th style="border: 2px solid white;">Patient ID</th>
                <th style="border: 2px solid white;">Required Blood Type</th>
                <th style="border: 2px solid white;">Volume in ml</th>
            </tr>
        </thead>
        <tbody>
            {% for request in blood_requests %}
            <tr>
                <td style="border: 2px solid white;">{{ request.patient_name }}</td>
                <td style="border: 2px solid white;">{{ request.required_blood_type }}</td>
                <td style="border: 2px solid white;">{{ request.volume }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
